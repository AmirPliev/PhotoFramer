import React from "react";
import { View, Button, Text } from "react-native";
import * as DocumentPicker from "expo-document-picker";

export default function FileSelector() {
  async function pickDirectory() {
    try {
      const result = await DocumentPicker.getDocumentAsync({
        type: "*/*", // Accept any type of file
        copyToCacheDirectory: false, // Do not copy to cache
      });

      if (!result.canceled) {
        const fileUri = decodeURIComponent(result.assets[0].uri);
        const directoryPath = fileUri.substring(0, fileUri.lastIndexOf("/"));
      } else {
        console.log("No directory selected");
      }
    } catch (error) {
      console.log("Error picking directory: ", error);
    }
  }

  return (
    <View>
      <Button title="Pick Directory" onPress={pickDirectory} />
    </View>
  );
}
